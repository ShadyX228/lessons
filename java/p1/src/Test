import java.sql.*;

public class Main {
    private static final String url = "jdbc:mysql://localhost:3306/task_db?useJDBCCompliantTimezoneShift=true&serverTimezone=UTC";
    private static final String user = "root";
    private static final String password = "12345";

    private static Connection connection;
    //private static Statement statement;
    private static PreparedStatement stat;
    private static ResultSet result;
    public static void main(String[] args) throws SQLException {
       try {
           String query = "select user_id, user_login from users WHERE patronymic = ? AND name = ?";
           connection = DriverManager.getConnection(url, user, password);
           //statement = connection.createStatement();
           stat = connection.prepareStatement(query, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);
           stat.setString(1, "Stepanich");
           stat.setString(2, "Petr");
           //result = statement.executeQuery(query);
           result = stat.executeQuery();

           while (result.next()) {
               int userid = result.getInt(1);
               String userlogin = result.getString(2);
               String loginupdate = userlogin + "kek";
               result.updateString(2, loginupdate);
               result.updateRow();
               System.out.println(result.getRow() + " " + userid + " " + userlogin);
           }
       }
       catch(SQLException ex) {
           ex.printStackTrace();
       }
       finally {
            try {
                connection.close();
                //statement.close();
                stat.close();
                result.close();
            }
            catch(SQLException ex) {}
       }
    }
}
